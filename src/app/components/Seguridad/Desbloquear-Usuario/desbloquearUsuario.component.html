
<div class="flex h-full w-full">
  <div class="rounded-lg p-2 pt-0 h-full w-full">
    <div class="h-full w-full justify-center items-center relative">
      <div
      id="cuadro"
      class="pl-12 pt-4 pr-2 mb-8 rounded-lg items-center justify-center w-full "
    >
      <div class="text-center mb-4">
        <label class="text-xl font-bold text-violet-500"
          >Desbloquear Usuario</label
        >
      </div>


        <div class="flex flex-row flex-wrap gap-4 pl-10">
          <div >
            <label>Rol:</label>   
            <div class="mt-1">      
              <mat-form-field appearance="outline" >
                <mat-label class="text-gray-300 italic text-sm ">Selecciona una opción</mat-label>
                <mat-select [ngModel]="selectedOption" (ngModelChange)="setSelection($event)"> 
                  <mat-option *ngFor="let data of datosTabla" [value]="data.nombreRol">{{data.nombreRol}}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>

          <div >
          <label>Correo Electrónico:</label>   
          <div class=" relative mt-1">
            <div
            class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"
          ></div>
              
                <mat-label class="text-gray-300 italic text-sm "></mat-label>
                <input type="text" matInput class=" rounded-md py-[15px]  border-zinc-400" #correo >
              
            </div>
          </div>

          <div class="mt-3 justify-start">
              <button class="rounded px-4 bg-red-600 text-white mt-3 p-2 hover:bg-red-800"  (click)="limpiarDatos()">
                <i class="bi bi-trash size-2"></i>              
              </button>
          </div> 
          
        
        <div class="flex flex-row gap-2 pt-8 pl-10">
          <div class="">
            <button class="block w-full bg-purple-800 rounded-md border-0 mr-4 p-2.5 py-1 pl-4 pr-4 text-white ring-0 ring-inset ring-gray-300 shadow-sm focus:ring-1 focus:ring-inset focus:ring-indigo-400 sm:text-sm sm:leading-6 hover:bg-purple-900 placeholder:text-gray-600" id="search" (click)="buscarUsuario(correo.value,correo)">
              Buscar
              <i class="bi bi-search "></i>
            </button>
          </div>
          <div class="">
            <button class="block w-full bg-pink-600 rounded-md border-0 mr-4 p-2.5 py-1 pl-4 pr-4 text-white ring-0 ring-inset
            ring-gray-300 shadow-sm focus:ring-1 focus:ring-inset focus:ring-indigo-400 sm:text-sm sm:leading-6 hover:bg-pink-800 placeholder:text-gray-600" id="unlock" (click)="desbloquearUsuario()">
              Desbloquear
              <i class="bi bi-unlock"></i>
            </button>
          </div>
        </div>
      </div>
    </div>



      <div class="p-15">
        <table mat-table [dataSource]="dataSource" class="">
      
          <ng-container matColumnDef="check" sticky>
            <th mat-header-cell *matHeaderCellDef> </th>
            <td mat-cell *matCellDef="let element"> 
              <mat-checkbox class="example-margin" [(ngModel)]="element.checked" (change)="rowSelect(element)"></mat-checkbox>   
            </td>
          </ng-container>
        
          <ng-container matColumnDef="name" sticky>
            <th mat-header-cell *matHeaderCellDef> Nombre </th>
            <td mat-cell *matCellDef="let element">{{element.nombre}}</td>
          </ng-container>
        
          <ng-container matColumnDef="userName">
            <th mat-header-cell *matHeaderCellDef> Correo </th>
            <td mat-cell *matCellDef="let element">{{element.correo}}</td>
          </ng-container>

          <ng-container matColumnDef="rol">
            <th mat-header-cell *matHeaderCellDef> Rol actual </th>
            <td mat-cell *matCellDef="let element">{{element.nombreRol}}</td>
          </ng-container>
        
          <ng-container matColumnDef="state">
            <th mat-header-cell *matHeaderCellDef> Estado </th>
            <td mat-cell *matCellDef="let element" id="state"> {{element.nombreEstado}} </td>
          </ng-container>
        
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        </table>
    </div>
    
    <mat-paginator 
      [length]="length"
      [pageSize]="5"
      aria-label="Select page"
      >
    </mat-paginator>
    
  </div>




<div class="loader_content" *ngIf="load">
  <app-loader ></app-loader>
</div>